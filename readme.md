# BibTeX Deduplicator

A powerful tool for detecting and removing duplicate entries from BibTeX (.bib) files. Available as a **web application**, desktop GUI, and command-line tool. Perfect for researchers and academics who need to clean up their reference libraries.

## 🌐 **Try it Online (Recommended)**

**No downloads required!** Use the web version instantly:

### **[🚀 Launch Web App](https://bib-deduplicator.vercel.app/)**

✅ **No installation needed** - works in any modern browser  
✅ **Always up-to-date** - latest features and bug fixes  
✅ **Cross-platform** - works on any device  
✅ **Privacy-focused** - files processed locally, not stored  
✅ **Mobile-friendly** - works on tablets and phones  

## ✨ Features

- **Smart Duplicate Detection**: Uses advanced similarity algorithms to find duplicates based on titles, authors, DOI, and publication year
- **Interactive Interface**: Visual interface for reviewing and selecting which duplicates to keep
- **Entry-by-Entry Resolution**: Review each duplicate group individually with full entry details
- **Multiple Resolution Options**: 
  - Keep selected entry
  - Keep all entries in group  
  - Skip group entirely
- **Automatic Resolution**: Identical entries are automatically merged, keeping the best citation key
- **Flexible Similarity Threshold**: Adjustable sensitivity for duplicate detection (0.6 - 0.95)
- **Command Line Support**: Batch processing for automated workflows
- **Cross-Platform**: Works on Windows, macOS, and Linux
- **Preserves Original Formatting**: Maintains BibTeX entry structure and formatting

## 🚀 Quick Start

### Option 1: Web Application (Recommended)

1. **Visit** [bib-deduplicator.vercel.app](https://bib-deduplicator.vercel.app/)
2. **Upload your BibTeX file** (drag & drop or click to browse)
3. **Adjust similarity threshold** if needed (default: 0.80)
4. **Click "Analyze for Duplicates"** to begin detection
5. **Review duplicates** entry-by-entry:
   - View full details of each entry
   - Choose to keep selected entry, keep all, or skip group
6. **Download cleaned file** automatically

### Option 2: Download Desktop Application

1. Go to the [Releases](../../releases) page
2. Download the appropriate version for your operating system:
   - **Windows**: `BibTeX-Deduplicator-windows.exe`
   - **macOS**: `BibTeX-Deduplicator-macos`
   - **Linux**: `BibTeX-Deduplicator-linux`
3. Double-click to run - no Python installation required!

### Option 3: Run from Source

```bash
# Clone the repository
git clone https://github.com/yourusername/bibtex-deduplicator.git
cd bibtex-deduplicator

# Install Python dependencies (tkinter is usually included with Python)
# No additional dependencies required for basic functionality

# Run the desktop application
python bib_deduplicator.py

# Or run the web application locally
cd webapp
pip install Flask
python app.py
```

## 📖 Usage

### Web Application

1. **Visit** [bib-deduplicator.vercel.app](https://bib-deduplicator.vercel.app/)
2. **Upload your BibTeX file** (supports files up to 16MB)
3. **Set similarity threshold** using the slider (0.6 - 0.95)
4. **Start analysis** and wait for duplicate detection
5. **Review results**: 
   - See statistics (total entries, duplicate groups, auto-resolved)
   - Go through each duplicate group one by one
6. **For each group**:
   - **View full entry details** by expanding "View Full Entry"
   - **Select an entry** and click "Keep Selected Entry"
   - **OR** click "Keep All Entries in Group" to preserve all variants
   - **OR** click "Skip Group" to keep none
7. **Download** your cleaned BibTeX file when complete

### Desktop GUI Mode

1. **Launch the application** by double-clicking the executable or running `python bib_deduplicator.py`
2. **Select your BibTeX file** using the "Browse" button
3. **Choose output location** (auto-generated by default)
4. **Adjust similarity threshold** in the Settings tab if needed (default: 0.80)
5. **Click "Start Analysis"** to begin duplicate detection
6. **Review duplicates** when prompted
7. **Save the cleaned file** automatically

### Command Line Mode

For automated processing or integration into scripts:

```bash
# Basic usage
./BibTeX-Deduplicator --cli -i input.bib -o output_clean.bib

# With custom similarity threshold
./BibTeX-Deduplicator --cli -i input.bib -o output_clean.bib -t 0.85

# Show help
./BibTeX-Deduplicator --help
```

#### Command Line Options

- `-i, --input`: Input BibTeX file (required)
- `-o, --output`: Output BibTeX file (required)
- `-t, --threshold`: Similarity threshold (0.6-0.95, default: 0.8)
- `--cli`: Run in command line mode
- `--help`: Show help message

## 🔧 How It Works

### Duplicate Detection Algorithm

1. **Parse BibTeX entries** and extract key information (title, authors, year, DOI)
2. **Fast DOI matching** - entries with identical DOIs are automatically grouped
3. **Similarity analysis** for entries without DOI matches:
   - Title similarity using sequence matching
   - Author similarity analysis
   - Year-based filtering for performance
4. **Smart resolution**:
   - Identical entries → automatically keep the one with shortest citation key
   - Similar entries → present to user for manual selection

### What Counts as Similar?

- **High similarity** (>threshold) in title AND same publication year
- **High similarity** (>threshold) in author list AND same publication year  
- **Identical DOI** (automatic match regardless of other fields)

## 📁 File Structure

```
bibtex-deduplicator/
├── bib_deduplicator.py      # Desktop application
├── build-deduplicator.py    # Build script for creating executables
├── icon.ico                 # Application icon
├── webapp/                  # Web application
│   ├── app.py              # Flask web server
│   ├── templates/
│   │   └── index.html      # Web interface
│   ├── requirements.txt    # Python dependencies
│   └── vercel.json         # Deployment configuration
├── README.md               # This file
└── LICENSE                 # License file
```

## 🛠️ Building from Source

### Desktop Application

If you want to create your own executable:

```bash
# Install PyInstaller
pip install pyinstaller

# Run the build script
python build-deduplicator.py

# Or build manually
pyinstaller --onefile --windowed --name BibTeX-Deduplicator --icon=icon.ico bib_deduplicator.py
```

### Web Application

Deploy your own instance:

```bash
# Local development
cd webapp
pip install Flask
python app.py

# Deploy to Vercel
npm install -g vercel
vercel
```

## 🎯 Use Cases

- **Academic Researchers**: Clean up reference libraries before submission
- **Literature Reviews**: Merge bibliographies from multiple sources  
- **Reference Managers**: Import/export cleanup between tools
- **Collaborative Projects**: Deduplicate shared bibliography files
- **Database Migration**: Clean up references when switching tools
- **Quick Online Processing**: No software installation required

## ⚙️ Advanced Configuration

### Similarity Threshold Guidelines

- **0.95**: Very strict - only near-identical entries
- **0.85**: Recommended for most cases
- **0.80**: Default - good balance of precision and recall
- **0.70**: More lenient - catches more potential duplicates
- **0.60**: Very lenient - may flag false positives

### Performance Tips

- **Web app**: Handles files up to 16MB efficiently
- **Desktop app**: Better for very large files (>5000 entries)
- **Command line**: Best for automated batch processing
- Processing time scales roughly with O(n²) for worst-case scenarios

## 🌟 Why Choose Each Version?

| Feature | Web App | Desktop | Command Line |
|---------|---------|---------|--------------|
| **No Installation** | ✅ | ❌ | ❌ |
| **Always Updated** | ✅ | ❌ | ❌ |
| **Works Offline** | ❌ | ✅ | ✅ |
| **Large Files (>16MB)** | ❌ | ✅ | ✅ |
| **Batch Processing** | ❌ | ❌ | ✅ |
| **Mobile Friendly** | ✅ | ❌ | ❌ |
| **Privacy (Local Only)** | ❌ | ✅ | ✅ |

## 🤝 Contributing

Contributions are welcome! Please feel free to submit:

- **Bug reports** - Include sample BibTeX files if possible
- **Feature requests** - Describe your use case
- **Pull requests** - Follow existing code style
- **Documentation improvements**

## 📝 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🐛 Troubleshooting

### Common Issues

**"No duplicates found" but I know there are duplicates**
- Try lowering the similarity threshold
- Check if entries have very different formatting
- Verify that titles/authors are properly formatted in BibTeX

**Web app upload issues**
- Check file size (max 16MB)
- Ensure file has .bib extension
- Try refreshing the page

**Desktop application won't start on macOS**
- Right-click → "Open" to bypass security restrictions
- Or run: `xattr -d com.apple.quarantine BibTeX-Deduplicator-macos`

**Large files are slow**
- Use desktop or command line version for files >5000 entries
- Consider splitting very large files

**Encoding errors**
- Ensure your BibTeX file is UTF-8 encoded
- Check for special characters in entries

### Getting Help

1. Check the [Issues](../../issues) page for similar problems
2. Create a new issue with:
   - Your operating system
   - Sample BibTeX entries (anonymized)
   - Steps to reproduce the problem

## 📊 Statistics

After processing, you'll see:
- Original number of entries
- Number of duplicate groups found
- Number auto-resolved vs. manual review
- Final number of entries after deduplication
- Percentage reduction in file size

## 👨‍💻 About the Author

This tool was developed by **Alex (Owen) Davies**, a PhD researcher at the Interactive AI CDT, University of Bristol. With a background in:

- **PhD Research** in Interactive AI (2021-Present)
- **MSc Data Science** from University of Bristol (Distinction, 2020-21)
- **MPhys Physics with Astronomy** from Durham University (2016-2020)
- **Industry Experience** developing Python pipelines for the Euclid space project
- **Freelance Photography** and creative technical projects

As a researcher who regularly works with large bibliographies and reference management, this tool was born from personal frustration with duplicate entries cluttering academic databases. The goal was to create something that actual researchers would want to use - fast, reliable, and intelligent enough to handle the messy reality of academic citations.

**Connect:** [LinkedIn](https://www.linkedin.com/in/alex-davies-4b7baa165) | [Website](https://neutralpronoun.github.io/alexowendavies.github.io/)

---

**🌐 [Try the Web App Now](https://bib-deduplicator.vercel.app/) | Made with ❤️ for the academic community**

*Save time on bibliography management and focus on your research!*